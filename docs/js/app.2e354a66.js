(function(e){function o(o){for(var r,n,s=o[0],l=o[1],c=o[2],u=0,h=[];u<s.length;u++)n=s[u],i[n]&&h.push(i[n][0]),i[n]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);d&&d(o);while(h.length)h.shift()();return a.push.apply(a,c||[]),t()}function t(){for(var e,o=0;o<a.length;o++){for(var t=a[o],r=!0,s=1;s<t.length;s++){var l=t[s];0!==i[l]&&(r=!1)}r&&(a.splice(o--,1),e=n(n.s=t[0]))}return e}var r={},i={app:0},a=[];function n(o){if(r[o])return r[o].exports;var t=r[o]={i:o,l:!1,exports:{}};return e[o].call(t.exports,t,t.exports,n),t.l=!0,t.exports}n.m=e,n.c=r,n.d=function(e,o,t){n.o(e,o)||Object.defineProperty(e,o,{enumerable:!0,get:t})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,o){if(1&o&&(e=n(e)),8&o)return e;if(4&o&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(n.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&o&&"string"!=typeof e)for(var r in e)n.d(t,r,function(o){return e[o]}.bind(null,r));return t},n.n=function(e){var o=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(o,"a",o),o},n.o=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)},n.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=o,s=s.slice();for(var c=0;c<s.length;c++)o(s[c]);var d=l;a.push([0,"chunk-vendors"]),t()})({0:function(e,o,t){e.exports=t("56d7")},"034f":function(e,o,t){"use strict";var r=t("64a9"),i=t.n(r);i.a},1769:function(e,o,t){},"56d7":function(e,o,t){"use strict";t.r(o);t("cadf"),t("551c"),t("097d");var r=t("2b0e"),i=function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("div",{staticClass:"flex flex-column vh-100 avenir",attrs:{id:"app"}},[t("div",{staticClass:"bb b--gray bg-washed-yellow",attrs:{id:"top"}}),t("div",{staticClass:"flex flex-auto",attrs:{id:"middle"}},[t("div",{staticClass:"br b--light-gray w-25 overflow-auto",attrs:{id:"sidebar"}},[t("FeatureInfo")],1),t("div",{staticClass:"relative flex-auto",attrs:{id:"map-container"}},[t("Map"),t("div",{staticClass:"absolute",attrs:{id:"overlay"}})],1)]),t("div",{staticClass:"bt b--light-gray flex-none",attrs:{id:"bottom"}})])},a=[],n=function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("div",{staticClass:"absolute absolute--fill",attrs:{id:"map"}})},s=[],l=(t("96cf"),t("3b8d")),c=(t("4917"),t("e192")),d=t.n(c),u=t("ef12"),h=t.n(u),p=(t("ac6d"),{neighborhoods:{mapbox:"mapbox://sbcherre.neighborhoods"},saz:{mapbox:"mapbox://sbcherre.saz"}});function f(e){return"localhost"!==window.location.hostname||window.location.hash.match(/mapbox/)?p[e]?p[e].mapbox:"mapbox://sbcherre.".concat(e):"http://localhost:4004/".concat(e,"/index.json")}var b={mounted:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var o,t,r,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:d.a.accessToken=window.location.hash.match(/token=(pk\.[-._a-zA-Z0-9]+)/)[1],o=new d.a.Map({container:"map",center:[-74.6631,40.7863],zoom:5,style:"mapbox://styles/mapbox/light-v9",hash:"loc"}),h.a.init(o,d.a),window.map=o,window.app.Map=this,t=function(e){return{parcels:!0}[e]?"visible":"none"},o.U.onLoad(function(){o.U.addVector("neighborhoods",f("neighborhoods")),o.U.addLine("neighborhoodsmt-line","neighborhoods",{sourceLayer:"neighborhoods-mt",lineWidth:["interpolate",["linear"],["zoom"],5,.1,7,1],lineColor:"hsl(330, 80%, 40%)",visibility:t("neighborhoods")}),o.U.addFill("neighborhoodsmt-fill","neighborhoods",{sourceLayer:"neighborhoods-mt",fillColor:"hsla(330, 80%, 40%,0.1)",visibility:t("neighborhoods")}),o.U.addLine("neighborhoodsrs-line","neighborhoods",{sourceLayer:"neighborhoods-rs",lineWidth:["interpolate",["linear"],["zoom"],5,["case",["to-boolean",["feature-state","hover"]],2,.1],7,["case",["to-boolean",["feature-state","hover"]],4,1]],lineColor:["case",["to-boolean",["feature-state","hover"]],"hsl(230, 100%, 30%)","hsl(230, 80%, 40%)"],visibility:t("neighborhoods")}),o.U.addFill("neighborhoodsrs-fill","neighborhoods",{sourceLayer:"neighborhoods-rs",fillColor:"hsla(230, 80%, 40%,0.1)",visibility:t("neighborhoods")}),o.U.addSymbol("neighborhoodsrs-labels","neighborhoods",{sourceLayer:"neighborhoods-rs",textField:"{GEO_NAME}",textColor:"hsla(230, 80%, 40%,0.8)",textSize:12,visibility:t("neighborhoods")}),o.U.addLine("neighborhoodsnd-line","neighborhoods",{sourceLayer:"neighborhoods-nd",lineWidth:["interpolate",["linear"],["zoom"],5,.1,7,1],lineColor:["case",["to-boolean",["get","hover"]],"hsl(130, 80%, 20%)","hsl(130, 80%, 40%)"],visibility:t("neighborhoods")}),o.U.addFill("neighborhoodsnd-fill","neighborhoods",{sourceLayer:"neighborhoods-nd",fillColor:"hsla(130, 80%, 40%,0.1)",visibility:t("neighborhoods")}),o.U.addSymbol("neighborhoodsnd-labels","neighborhoods",{sourceLayer:"neighborhoods-nd",textField:"{GEO_NAME}",textColor:"hsla(130, 80%, 40%,0.8)",textSize:16,visibility:t("neighborhoods")}),o.U.addVector("parcels",f("parcels")).addLine("parcels-line",{sourceLayer:"parcels",lineColor:"cyan",visibility:t("parcels"),lineWidth:["case",["to-boolean",["feature-state","selected"]],5,1]}).addFill("parcels-fill",{sourceLayer:"parcels",visibility:t("parcels"),fillColor:["case",["to-boolean",["feature-state","selected"]],"hsla(180,80%,50%,0.2)","transparent"]}),o.U.addVector("saz",f("saz")).addLine("saz-line",{sourceLayer:"saz",lineColor:"pink",lineDasharray:[8,4],visibility:t("saz")}),o.U.addVector("census",f("census")).addFill("zip-fill",{sourceLayer:"census-zi",fillColor:["case",["to-boolean",["feature-state","hover"]],"hsla(330,80%,80%,0.5)","transparent"],visibility:t("zip")}).addLine("zip-line",{sourceLayer:"census-zi",lineWidth:1,visibility:t("zip")}).addLine("county-line",{sourceLayer:"census-co",lineColor:"hsl(90,80%,50%)",lineWidth:1,visibility:t("county")}).addLine("state-line",{sourceLayer:"census-st",lineColor:"hsl(140,80%,50%)",lineWidth:1,visibility:t("state")}).addLine("places-line",{sourceLayer:"census-pl",lineColor:"hsl(240,80%,50%)",lineWidth:1,visibility:t("places")})}),r=["zip-fill","neighborhoodsrs-fill","neighborhoodsnd-fill","neighborhoodsmt-fill","parcels-fill"],o.U.hoverPointer(r),o.U.hoverFeatureState("neighborhoodsrs-fill","neighborhoods","neighborhoodsrsmz",function(e){console.log(e.features[0].state)}),o.U.clickOneLayer(r,function(e){console.log(e.features);var t=e.features[0];"parcels"===e.features[0].sourceLayer&&(console.log(e.features),e.features[0].overlaps=e.features.map(function(e){return e&&e.properties.APN}),i&&o.setFeatureState({id:i,source:"parcels",sourceLayer:"parcels"},{selected:!1}),i=t.id,o.setFeatureState({id:t.id,source:"parcels",sourceLayer:"parcels"},{selected:!0})),o.setFeatureState({id:t.id,source:"neighborhoods",sourceLayer:"db"},{hover:!0}),window.app.FeatureInfo.feature=e.features[0]});case 11:case"end":return e.stop()}},e,this)}));function o(){return e.apply(this,arguments)}return o}()},v=b,g=t("2877"),y=Object(g["a"])(v,n,s,!1,null,"4e20b000",null);y.options.__file="Map.vue";var m=y.exports,w=function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("div",[e.imageUrl?t("img",{staticClass:"image",attrs:{src:e.imageUrl}}):e._e(),e.feature?t("table",{staticClass:"bg-white b--gray ba helvetica ma1",attrs:{id:"FeatureInfo"}},e._l(e.p,function(o,r){return t("tr",[-1===e.ignoreProps.indexOf(r)?[t("th",{staticClass:"f6"},[e._v(e._s(r))]),t("td",{staticClass:"f6"},[e._v(e._s(o))])]:e._e()],2)}),0):e._e(),e.feature?t("div",[t("h3",[e._v("APNs at this location")]),e._l(e.feature.overlaps,function(o){return t("div",[t("p",{staticClass:"f7"},[e._v(e._s(o))])])})],2):e._e()])},_=[],x={name:"FeatureInfo",data:function(){return{feature:void 0,ignoreProps:["id","Longitude","Latitude","image_url"]}},computed:{p:function(){return this.feature&&this.feature.properties},imageUrl:function(){return this.p&&this.p.image_url}},created:function(){window.app.FeatureInfo=this}},L=x,C=(t("f943"),Object(g["a"])(L,w,_,!1,null,"7a4030f4",null));C.options.__file="FeatureInfo.vue";var z=C.exports;window.app={};var U={name:"app",components:{Map:m,FeatureInfo:z},created:function(){window.app.App=this}};t("948e");var F=U,O=(t("034f"),Object(g["a"])(F,i,a,!1,null,null,null));O.options.__file="App.vue";var j=O.exports;r["a"].config.productionTip=!1,new r["a"]({render:function(e){return e(j)}}).$mount("#app")},"64a9":function(e,o,t){},f943:function(e,o,t){"use strict";var r=t("1769"),i=t.n(r);i.a}});
//# sourceMappingURL=app.2e354a66.js.map